<!DOCTYPE html>
<html lang="nb" dir="ltr">

<head>
  <meta charset="utf-8">
  <title>Saeveraas Travels</title>
  <script src="https://www.gstatic.com/firebasejs/5.9.1/firebase.js"></script>
  <script>
    // Initialize Firebase
  var config = {
    apiKey: "AIzaSyA4DU6ym9WJhbQIhmFWe6dvvIIvpYOyehI",
    authDomain: "saeveraas-travels.firebaseapp.com",
    databaseURL: "https://saeveraas-travels.firebaseio.com",
    projectId: "saeveraas-travels",
    storageBucket: "",
    messagingSenderId: "662591194660"
  };
  firebase.initializeApp(config);
</script>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <header>
    <nav>
      <a href="Index.html"><img src="LitenLogo.png" alt=""></a>
      <a href="Index.html">
        <div>Home</div>
      </a>
      <a href="Offers.html">
        <div>Offers</div>
        <a href="Destinations.html">
          <div>Destinations</div>
          <a href="AboutUs.html">
            <div>About Us</div>
            <div>
              <a href="#">
                <p>Log In</p>
              </a>
              <p>Sign In</p>
            </div>
    </nav>
    <div class="dropdown">
      <button onclick="myFunction()" class="dropbtn">Dropdown</button>
      <div id="myDropdown" class="dropdown-content">
        <a href="#home">Home</a>
        <a href="#about">About</a>
        <a href="#contact">Contact</a>
      </div>
    </div>
  </header>
  <main class="offers">

  </main>

  <script type="text/javascript">
    //Referanser til HTML-elementer
    const main = document.querySelector("main");
    const offers = document.querySelector(".offers");


    const db = firebase.database();
    const destinations = db.ref("destinations");

    visAlleSalg();

    function visAlleVarer() {
      offers.innerHTML = ``;
      destinations.on("child_added", genererHTML);
    }

    function visAlleSalg() {
      offers.innerHTML = ``;
      destinations.orderByChild("sale").equalTo(true).on("child_added", genererHTML);
    }

    function genererHTML(snapshot) {
      let dObject = snapshot.val();
      let key = snapshot.key;


      let sale = "";
      if (dObject.sale) {
        sale = `On sale!`;
      }

      offers.innerHTML +=
        `
        <a href="travel.html?id=${key}"><section class="tur">
        <h3>${dObject.Name}</h3>
        <img id="imgD" src=${dObject["Image"]}>
        <p>Country: ${dObject.Country}</p>
        <p>Continent: ${dObject.Continent}</p>
        <!-- i tilfellet jeg vil skrive under at den er pÃ¥ salg: <p>${sale}</p> -->
        </section></a>`


//javascript for dropdown
function myFunction() {
  document.getElementById("myDropdown").classList.toggle("show");
}
// Close the dropdown if the user clicks outside of it
window.onclick = function(event) {
  if (!event.target.matches('.dropbtn')) {
    var dropdowns = document.getElementsByClassName("dropdown-content");
    var i;
    for (i = 0; i < dropdowns.length; i++) {
      var openDropdown = dropdowns[i];
      if (openDropdown.classList.contains('show')) {
        openDropdown.classList.remove('show');
      }
    }
  }
}
    }
  </script>
</body>

</html>